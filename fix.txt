#ã€build_firmware_main.sh-39ã€‘
workflow_step26_check_artifacts() {
    log "=== æ­¥éª¤26: æ£€æŸ¥æ„å»ºäº§ç‰©ï¼ˆå®Œæ•´æ˜¾ç¤ºï¼‰ ==="
    
    set -e
    trap 'echo "âŒ æ­¥éª¤26 å¤±è´¥ï¼Œé€€å‡ºä»£ç : $?"; exit 1' ERR
    
    cd "$BUILD_DIR"
    
    if [ -d "bin/targets" ]; then
        echo "âœ… æ‰¾åˆ°å›ºä»¶ç›®å½•"
        
        # åˆ†åˆ«ç»Ÿè®¡ .bin å’Œ .img æ–‡ä»¶ï¼Œé¿å…æ‹¬å·è½¬ä¹‰é—®é¢˜
        bin_count=$(find bin/targets -type f -name "*.bin" 2>/dev/null | wc -l)
        img_count=$(find bin/targets -type f -name "*.img" 2>/dev/null | wc -l)
        FIRMWARE_COUNT=$((bin_count + img_count))
        
        gz_count=$(find bin/targets -type f -name "*.gz" 2>/dev/null | wc -l)
        ipk_count=$(find bin/targets -type f -name "*.ipk" 2>/dev/null | wc -l)
        PACKAGE_COUNT=$((gz_count + ipk_count))
        
        echo "=========================================="
        echo "ğŸ“ˆ æ„å»ºäº§ç‰©ç»Ÿè®¡:"
        echo "  å›ºä»¶æ–‡ä»¶: $FIRMWARE_COUNT ä¸ª (.bin/.img)"
        echo "  åŒ…æ–‡ä»¶: $PACKAGE_COUNT ä¸ª (.gz/.ipk)"
        echo ""
        
        if [ $FIRMWARE_COUNT -gt 0 ]; then
            echo "ğŸ“ å›ºä»¶æ–‡ä»¶è¯¦ç»†ä¿¡æ¯:"
            echo "------------------------------------------"
            # ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶åˆå¹¶ä¸¤ä¸ª find ç»“æœï¼Œé¿å…æ‹¬å·
            temp_list=$(mktemp)
            find bin/targets -type f -name "*.bin" 2>/dev/null >> "$temp_list"
            find bin/targets -type f -name "*.img" 2>/dev/null >> "$temp_list"
            sort -u "$temp_list" | while read -r file; do
                SIZE=$(ls -lh "$file" 2>/dev/null | awk '{print $5}' || echo "æœªçŸ¥")
                FILE_NAME=$(basename "$file")
                echo "ğŸ¯ $FILE_NAME ($SIZE)"
            done
            rm -f "$temp_list"
        else
            echo "âš ï¸ è­¦å‘Š: æœªæ‰¾åˆ°ä»»ä½•å›ºä»¶æ–‡ä»¶ (.bin/.img)"
        fi
        
        echo "=========================================="
        echo "âœ… æ„å»ºäº§ç‰©æ£€æŸ¥å®Œæˆ"
    else
        echo "âŒ é”™è¯¯: æœªæ‰¾åˆ°å›ºä»¶ç›®å½•"
        exit 1
    fi
    
    log "âœ… æ­¥éª¤26 å®Œæˆ"
}
#ã€build_firmware_main.sh-39-endã€‘
